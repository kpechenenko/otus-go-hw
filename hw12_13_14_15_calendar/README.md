# calendar

## Запуск приложения

```bash
make run
```

## Использование автоматически сгенерированного swagger файла

Из коробки ничего работать не будет, поэтому после выполнения `make generate` необходимо выполнить:

1. Добавить в [calendar.swagger.json](api%2Fopeapiv2%2Fcalendar.swagger.json) на верхний уровень параметры с указанием
   адреса сервиса из конфигурационного файла и схемы взаимодействия:

```json
...
"host": "localhost:8080",
"schemes": ["http"],
...
```

2. При запросах к сервису через [calendar.swagger.json](api%2Fopeapiv2%2Fcalendar.swagger.json) необходимо обновить
   значения по умолчанию для числовых полей (которые в файле помечены как string с format=int64).
   В автоматически сгенерированных запросах плагином protoc-gen-openapiv2 все передается СТРОКОЙ с разными типами
   формата.
   По какой-то причине для формата int64 по умолчанию подставляется не число в строке (например "123"), а обычная
   строка (например "123").

   **По этой причине нужно руками передать числа в строках для полей `ownerId`, `duration`, `notifyFor`.**

Неправильное тело запроса, сгенерированное `protoc-gen-openapiv2`:

```json
{
  "title": "string",
  "date": "2024-09-20T07:54:11.664Z",
  "duration": "string",
  "description": "string",
  "ownerId": "string",
  "notifyFor": "string"
}
```

Исправленное руками тело запроса:

```json
{
  "title": "string",
  "date": "2024-09-20T07:54:11.664Z",
  // передали число
  "duration": "12",
  "description": "string",
  // передали число
  "ownerId": "12",
  // передали число
  "notifyFor": "12"
}
```